
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Erik Bergenholtz' blog</title>
  <meta name="author" content="Erik Bergenholtz">

  
  <meta name="description" content="Today I submitted my first scientific paper for review. I&rsquo;ve now been a PhD
student for about nine months, six of which I&rsquo;ve spent on &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://blog.erikbergenholtz.se/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Erik Bergenholtz' blog" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="/javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup class="hCont">
  <h1><a href="/">Erik Bergenholtz' blog</a></h1>
  
    <h2>Ramblings about technical things</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="sitesearch" value="blog.erikbergenholtz.se">
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2018/06/21/what-i-learned-from-writing-my-first-paper/">What I Learned From Writing My First Paper</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2018-06-21T20:40:54+02:00'><span class='date'>2018-06-21</span> <span class='time'>8:40 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Today I submitted my first scientific paper for review. I&rsquo;ve now been a PhD
student for about nine months, six of which I&rsquo;ve spent on this project in
particular. It&rsquo;s been quite a long road with a lot of bumps and a lot of set
backs, but I&rsquo;ve learned a lot from it, and I suppose that&rsquo;s what doing a PhD is
all about. It doesn&rsquo;t hurt that I&rsquo;m very happy with how my paper turned out as
well. Now I just have to hope that the reviewers are as happy with it as I am.</p>

<p>Anyway, what I wanted to talk about today is what I learned about doing science
from writing this paper.</p>

<h2>Don&rsquo;t ever think</h2>

<p>You read that correctly. Don&rsquo;t ever <em>think</em>. I don&rsquo;t mean that in the senes of
not having thoughts, but in the sense of not believing. In Sweden we have an
idiom that goes &ldquo;Tro gör man i krykan, här vet man&rdquo;, which translates to
&ldquo;Believe is something you do in church, here you know&rdquo;. What it means it that
you should be certain, and this is one of the biggest lessons I learned from
running and rerunning my experiments countless times. Every time I had to
rebuild the lab, every time I had to reanalyze data, this was always the
culprit. I wasn&rsquo;t <em>certain</em> about everything. I couln&rsquo;t answer every question
about the experiments, their expected outcomes, or the test environment with &ldquo;I
know that&hellip;&rdquo;. I could answer some in that way, but there were way too many
that I could only answer with &ldquo;I <em>think</em> that&hellip;&rdquo;, and this caused me a
tremendous amount of trouble. I <em>thought</em> that the lab was rigged correctly,
but it wasn&rsquo;t. I <em>thought</em> that the real environment behaved a certain way, but
it didn&rsquo;t. I <em>thought</em> that my program was bug free, but it wasn&rsquo;t. From now on
I&rsquo;ll make sure that I don&rsquo;t have to answer any questions like that before I
start running my experiments.</p>

<h2>Get motivated</h2>

<p>This kindof relates to the last point. Don&rsquo;t make arbitrary choices, think
things through and make <em>decisions</em>. If you can point to any part of your
experiment design and not say &ldquo;I did this because&hellip;&rdquo; you&rsquo;re doing it wrong. I
did that with quite a few things, which got a bit awkward when my supervisors
asked me &ldquo;So why did you pick X&rdquo; and I basically went ¯\_(ツ)_/¯. Not only
was it a bit awkward in the meetings, but it got pretty bad when actually
writing the article and I realized that I <em>had</em> to motivate things for it to
not be, well, shit. Luckily for me, a lot of my arbitrary choices were based on
gut feelings that were based on an internal model of reality that roughly
correlated to the real world, so my choices weren&rsquo;t that bad. But for my next
paper I&rsquo;m going to find the motivation <em>first</em> and use that as a basis for my
choice.</p>

<h2>Take care of the environment</h2>

<p>For computer science, environment make a lot of difference. Maybe not the <em>real</em>
environment, but the digital environment. One of the biggest mistakes I did when
writing my first paper was that I didn&rsquo;t build the test environment <em>first</em> and
developed my program to work in that environment. It resulted in finding bugs
later down the road that were caused by me making assumptions about the
environment based on the very small scale development environment that I set up
on my computer. The <strong>But It Works On My Machine</strong>-award goes to&hellip;. me.</p>

<h2>Don&rsquo;t give up</h2>

<p>This may seem obvious, but let me tell you that I wanted to just say &ldquo;fuck it&rdquo;
and go home so many times during this process. Experiments that went wrong, new
bugs that were discovered way too late, data that didn&rsquo;t quite add up or make
sense, etc. It&rsquo;s frustrating. <em>Very</em> frustrating, and since being a PhD student
means that you set your own deadlines, work when and where you want, just going
home is actually an option. But don&rsquo;t take it. Take a walk around campus, drink
a cup of coffee or whatever you&rsquo;re into, and then grit your teeth and get on
with it. You&rsquo;ll thank yourself for it later.</p>

<h2>No stress, just productivity</h2>

<p>I left a meeting with my supervisors swamped with things to do about two or
three weeks before the deadline of the paper submission for the conferance I was
aiming at. The reason for this amount of work being put on me so late was that
we, after a good discussion, decided to not scrap part of the experiments that
we did first say that we&rsquo;d scrap. I needed to rig a new set of simulations, set
up my experiments based on the outcome of the simulations, rewrite parts of my
program to facilitate these changes, and rerun all my experiments in three
weeks. Oh, and write a good paper (because we aimed at a good conference). In
short, I was swamped. But leaving the meeting, one of my supervisors told me
something that strongly resonated with me: <em>No stress, just productivity</em>.r</p>

<p>I&rsquo;m very happy that he said those words, because I think it helped me a lot.
It&rsquo;s very easy to get stressed in situations like this, it&rsquo;s easy to feel
overwhelmed. But the stress will only hinder you, and thus slow you down, making
you more stressed, and so on. It&rsquo;s a recipe for anxiety, and when facing a
deadline in a few weeks you don&rsquo;t want to run around being anxious. What does
help is getting shit done, i.e. being productive. And let me tell you, I&rsquo;ve been
really productive the last couple of weeks. I&rsquo;ve worked weekends and nights,
I&rsquo;ve started early and stayed up late, I&rsquo;ve skipped lunch, etc. But somehow I
haven&rsquo;t been stressed. <em>At all</em>. Whenevery I started to feel stressed I took a
few minutes to gather myself; grab a cup of cofffee, talk a short walk, look out
the window. Basically, just relaxing for a bit to let the stress go. And guess
what, I managed to finish a paper that I&rsquo;m damn happy with, and that my
supervisors are damn happy with, with 35 hours to go until the deadline. So
keep that in mind: <em>No stress</em>, only productivity.</p>

<h2>Closing thoughts</h2>

<p>I think that&rsquo;s about it. Obviously I learned a lot more than this, especially
about socket programming in C (I&rsquo;ve got a post coming up about that in a while),
network scanning, and how to write the actual text of a paper. But these are the
most important lessons I&rsquo;ve learned about the process itself.</p>

<p>Anyway, I hope this can be useful to someone. If nothing else it&rsquo;s something
for me to look back on whenever I need to be reminded of these things, so
¯\_(ツ)_/¯.  Now, I&rsquo;m off to enjoy my vacation, and a gin&amp; tonic. So, until
next time,</p>

<p>Happy hacking!</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2018/06/08/2018-bucket-list-june-progress/">2018 Bucket List - June Progress</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2018-06-08T22:46:44+02:00'><span class='date'>2018-06-08</span> <span class='time'>10:46 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I know, I know. I was supposed to update this thing once a month. But being a
PhD student is hectic. Who would&rsquo;ve guessed? I also realized in March that since
I more or less don&rsquo;t ever put anything here, my entire blog would be just this
list being reposted over and over. So I decided to reduce the frequency a bit.
As long as I actually do follow up on these things, right?</p>

<p>Anyhow, I&rsquo;ve done a lot since the last update. I&rsquo;ve finished a bunch of games
(that weren&rsquo;t on the list, of course), I&rsquo;ve <em>almost</em> stopped biting my nails
(I did actually stop for a couple of weeks, but then I got a small wound and I
was back at it..). I have read about one third (I think) of <em>Tinker Tailor
Solider Spy</em>. And, most importantly, I&rsquo;m about to submit my first paper. So I&rsquo;ve
got a lot going on.</p>

<p>But I <em>have</em> actually finished a couple of things as well. I&rsquo;ve fixed my home
network, so there aren&rsquo;t ethernet cables snaking their way over the floor
anymore. I&rsquo;ve read most of <em>Introduction to Algorithms</em>, which I&rsquo;m going to
count as done because I realized while reading it that it&rsquo;s not a cover-to-cover
kind of book. I&rsquo;ve also nailed the Advanced Algorithms course I took. Good
stuff! So I haven&rsquo;t been lazy just because I haven&rsquo;t reposted this list,
alright?</p>

<p>Before I sign off here I&rsquo;d just like to say that I have a couple of posts
planned actually, and I hope to finish them over vacation. They&rsquo;re going to be a
bit more technical than the stuff I&rsquo;ve posted so far. And with a bit I mean &ldquo;a
lot&rdquo;. Like fiddling around with raw sockets in C technical. But that&rsquo;s for
later, hopefully during the summer. For now, this is all.</p>

<p>Happy hacking!</p>

<ul>
<li>Books

<ul>
<li>Fiction

<ul>
<li><del>The Graveyard Book</del></li>
<li>Dune</li>
<li>Tinker Tailor Solider Spy</li>
<li>House of Leaves</li>
<li>The King in Yellow</li>
<li>1984</li>
<li>Bioshock - Rapture</li>
</ul>
</li>
<li>Non-fiction

<ul>
<li><del>Introduction to Algorithms</del></li>
<li>Violent Python</li>
<li>Art of Intrusion</li>
<li>Art of Deception</li>
<li>Web Application Hacker&rsquo;s Handbook</li>
<li>Practical Malware Analysis</li>
<li>Get Started in German</li>
<li>Konsten att få Metala Superkrafter</li>
</ul>
</li>
</ul>
</li>
<li>Movies

<ul>
<li>Dune</li>
<li>Brazil</li>
<li>Fear and Loathing in Las Vegas</li>
<li>Django Unchained</li>
<li>The Hateful Eight</li>
<li>Crouching Tiger Hidden Dragon: Sword of Destiny</li>
<li>Soylent Green</li>
</ul>
</li>
<li>Games

<ul>
<li><del>Mario Odyssey</del></li>
<li><del>Subnautica</del></li>
<li>Legend of Zelda: Breath of the Wild</li>
<li>DOOM</li>
<li>Cuphead</li>
<li>Dishonored 2</li>
</ul>
</li>
<li>Work

<ul>
<li><del>Nail Advanced Algorithms</del></li>
<li>Two publications</li>
</ul>
</li>
<li>Health and fitness

<ul>
<li>Start working out</li>
<li>Try Aikido</li>
<li><del>Start eating Keto</del></li>
<li>Quit nailbiting</li>
</ul>
</li>
<li>Other

<ul>
<li>Start practicing violin/viola regularly</li>
<li><del>Fix home network</del></li>
<li>Fix battlestation</li>
<li>Git gud at hacking</li>
<li>Finish German course on Duolingo</li>
<li>Finish <em>Get Started in German</em></li>
<li>Get more into tea and coffee</li>
<li>Learn about brewing</li>
<li>Learn about fermenting</li>
<li>Get better at cooking</li>
<li>Start posting here regularly, preferably about sciency stuff</li>
</ul>
</li>
</ul>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2018/02/28/2018-bucket-list-february-progress/">2018 Bucket List - February Progress</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2018-02-28T23:00:38+01:00'><span class='date'>2018-02-28</span> <span class='time'>11:00 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>It is time yet again for a revisit to the <a href="http://blog.erikbergenholtz.se/blog/2018/01/03/bucket-list-of-2018/">bucket list</a> of 2018. So what have
I actually accomplished this month? Sadly very little, I&rsquo;m afraid. There&rsquo;s been
a lot of playing PUBG, but not much else. I <em>have</em> started reading <em>Konsten att
f mentala superkrafter</em> as well as <em>Tinker Tailor Soldier Spy</em>, but I&rsquo;ve
finished neither so far. The one thing I have finished on the list is playing
Subnautica. I finished the game the other day (there might be a post about this
amazing creating later on), so that is quite nice. At least one thing ticked
off.</p>

<p>Now, for new additions to the list. Firstly, I&rsquo;ve decided that my new hobby is
food and drinks in all forms. With this in mind I&rsquo;m going to add <em>Get better at
cooking</em>, <em>Learn about fermenting</em> and <em>Learn about brewing</em>. Unfortunately
these goals are faily fluffy, so I&rsquo;ll try to come up with a way to define them
better. Other than this I don&rsquo;t think there&rsquo;s anything else that I want to add
to the list. That gives us the list below after two months of 2018, and with
that I&rsquo;m signing off here.</p>

<p>Happy hacking!</p>

<ul>
<li>Books

<ul>
<li>Fiction

<ul>
<li><del>The Graveyard Book</del></li>
<li>Dune</li>
<li>Tinker Tailor Solider Spy</li>
<li>House of Leaves</li>
<li>The King in Yellow</li>
<li>1984</li>
<li>Bioshock - Rapture</li>
</ul>
</li>
<li>Non-fiction

<ul>
<li>Introduction to Algorithms</li>
<li>Violent Python</li>
<li>Art of Intrusion</li>
<li>Art of Deception</li>
<li>Web Application Hacker&rsquo;s Handbook</li>
<li>Practical Malware Analysis</li>
<li>Get Started in German</li>
<li>Konsten att få Metala Superkrafter</li>
</ul>
</li>
</ul>
</li>
<li>Movies

<ul>
<li>Dune</li>
<li>Brazil</li>
<li>Fear and Loathing in Las Vegas</li>
<li>Django Unchained</li>
<li>The Hateful Eight</li>
<li>Crouching Tiger Hidden Dragon: Sword of Destiny</li>
<li>Soylent Green</li>
</ul>
</li>
<li>Games

<ul>
<li><del>Mario Odyssey</del></li>
<li><del>Subnautica</del></li>
<li>Legend of Zelda: Breath of the Wild</li>
<li>DOOM</li>
<li>Cuphead</li>
<li>Dishonored 2</li>
</ul>
</li>
<li>Work

<ul>
<li>Nail Advanced Algorithms</li>
<li>Two publications</li>
</ul>
</li>
<li>Health and fitness

<ul>
<li>Start working out</li>
<li>Try Aikido</li>
<li><del>Start eating Keto</del></li>
<li>Quit nailbiting</li>
</ul>
</li>
<li>Other

<ul>
<li>Start practicing violin/viola regularly</li>
<li>Fix home network</li>
<li>Fix battlestation</li>
<li>Git gud at hacking</li>
<li>Finish German course on Duolingo</li>
<li>Finish <em>Get Started in German</em></li>
<li>Get more into tea and coffee</li>
<li>Learn about brewing</li>
<li>Learn about fermenting</li>
<li>Get better at cooking</li>
<li>Start posting here regularly, preferably about sciency stuff</li>
</ul>
</li>
</ul>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2018/02/03/book-review-hacking-the-art-of-exploitation/">Book Review: Hacking - the Art of Exploitation</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2018-02-03T23:19:55+01:00'><span class='date'>2018-02-03</span> <span class='time'>11:19 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><em>This review was supposed to be published some months ago (in July last year,
to be specific), but wasn&rsquo;t because I put it in a folder where I&rsquo;d be sure to
find it again and then, of course, didn&rsquo;t. So if there&rsquo;s anything in there that
doesn&rsquo;t make sense in the context of having read the book now, rather than
during last year&rsquo;s vacation, it&rsquo;s because I did read it during last year&rsquo;s
vacation. Regardless, I stand by my opinion on the book, so here&rsquo;s the review.</em></p>

<p>Here it is. My review of <em><a href="https://www.nostarch.com/hacking2.htm">Hacking - The Art of Exploitation</a></em>
by Jon Erickson, published by <a href="https://www.nostarch.com">No Starch Press</a> (of
course). It&rsquo;s a book I first learned about many a year ago when I first got
interested for real in computer security, so somewhere around seven years ago.
Like <em>Gray Hat Hacking</em>, this is one of <em>the</em> books to read as an asipring
hacker according to the hacker community (at least it was back then). I bought
a copy of the book 2013, and it&rsquo;s been gathering dust on my bookshelf since. But
now, finally, I&rsquo;ve read it. So what are we waiting for, let&rsquo;s jump right in!</p>

<p>Unlike <em>Gray Hat Hacking</em>, which tries to be an introduction to many fields of
security, <em>The Art of Exploitation</em> tries to be an introduction to one aspect of
security, namely writing exploits. As a result, it goes further into depth in
this one subject than <em>Gray Hat Hacking</em> does in any subject, including
programming. A fundamental part of writing exploits is to understand how
computers work at a low level, and <em>The Art of Exploitation</em> aims to teach you
just that. Because of this, the first 100 pages of the book covers C programming
and some general x86 assymbly. I&rsquo;m aware that I gave <em>Gray Hat Hacking</em> a bit
of a bashing for covering programming, because I believe that you should know
programming before getting into hacking, but here it&rsquo;s much more in depth and
well explained. <em>Gray Hat Hacking</em> stopped at showing off if-statements and
for-loops, while <em>Art of Exploitation</em> goes all the way to dynamic memory,
function pointers, structs and file access. It also shows some of the basics of
GDB, end explains the stack, the heap and the different memory segments that are
used in a program. All in all, I believe that if you read the first chapter
carefully, do some exercises and write some programs yourself, you&rsquo;d be pretty
confident with C afterwards. Granted, you&rsquo;ll have to put down time to actually
learn how to write programs from a specification of course, but at least you
would know how to write the code once the structure of it is determined.</p>

<p>The rest of the book is more or less dedicated to exploiting. The second chapter
shows how a number of exploits like buffer overflows and fromat string exploits
work, and it does so by example. Accompanying the book is a LiveCD with an
Ubuntu installation containing all the tools and code used in the book. All
examples are walked through, step by step, and clearly show how to find the
vulnerability in the given program, how to construct the exploit and how to
execute it. The chapter following this takes this to the next level by adding
networking to the mix. It starts off by talking about networks in general,
explaining the OSI model layer by layer, and then moves on to some network
programming using both the <code>socket()</code> interface in C, as well as more abstract
libraries like <code>libnet</code> and <code>libpcap</code>. It finally explains how to write tools
for things like DoS attacks, ARP spoofing and TCP/IP hijacking. Once networking
is covered, the book moves on to showing how to write your own shellcode, as up
to this point all the shellcode has been predesigned to do the right thing. It
goes through how to use syscalls to do what you want, how to open up shells,
bind shells to network connections, and how to optimize the shellcode. Next,
countermeasures are covered as well as ways around these countermeasures.
Finally, a brief and high level introduction to cryprology is given, which shows
off how to break RC4 (the cryptographic function used by WEP) among other
things.</p>

<p>Needless to say, the book does cover a lot of things, but it&rsquo;s still quite
focused. Most of the exploits that are shown are based on the idea of injecting
code into a running program, and redirecting the execution of the program to the
injected code. Because of this, and the fact that all the exploits are written
by the reader and not just executed by a prebuilt tool, the book doesn&rsquo;t feel
too spread out and also manages to convey understanding on the subjects, rather
than being a glorified manpage. Apart from this, the text is also quite
approachable, which makes it easy to take in the information. The examples are
worked through step by step, showing all the steps along the way, and the steps
are clearly explained. Many of the programs being exploited are quite trivial
and have blindingly obvious flaws, but the point of the book is not to become a
1337 h4xXx0R^ that can <a href="https://youtu.be/Bmz67ErIRa4">hack the Gibson</a>, but to
get the reader into the mindset of a hacker and to know what kinds of flaws to
look for when trying to find exploits in real life software. This is something
it does a great job with.</p>

<p>One thing you might&rsquo;ve noticed is that I mentioned that all the code is readily
available on the supplied LiveCD, but I didn&rsquo;t complain about it like I did with
<em>Black Hat Python</em>. This might seem hypocritical, but I have my reasons for
thinking it&rsquo;s okay with this book. Firtly, most of the things that the book
actually tries to teach you are concepts that can&rsquo;t really be put into code.
Sure, you can just read the book, see all the examples in GDB that are shown in
the book, and then pat yourself on the back for becoming a hacker. But if you
want to actually try running any of the exploits to see them in action, you&rsquo;ll
have to do some work yourself as memory addresses changes. Moreover, most of
the supplied code is either shellcode that you need prebuilt until the fourth
chapter of book, or programs that you&rsquo;ll try to exploit. Writing these yourself
if of course very good exercise, but for someone like me who knows programming
quite well and just want to learn how to write exploit, having to write the
500 line web server myself would just be a distraction. Having the code
available, ready to be compiled, lets you focus on what the book actually is
about. Another redeeming factor is that the book actually explains what&rsquo;s being
attempted <em>before</em> showing the code in the book, so you can give it a go first.
Because of these things, I appreciate the code being available.</p>

<p>So, to wrap this up, did I learn something, and who would I recommend this to?
The answer to the first question is undoubtably &ldquo;yes&rdquo;, I learned quite a bit.
I knew of most attacks since before, but reading this gave me a better
understanding of why they work, and how. I also learned that I need to get
better at assembler, because optimizing shellcode for both size and to remove
NULL-bytes can be a bit tricky. In other words, expect a review on an ASM book
some time in the future. The answer to the second question is a bit more tricky.
On the one hand I think this is a book that, in part at least, would benefit
everyone who does software development at some level. On the other hand it might
be a bit too in-depth if your only goal is to understand how the exploits work
on a high level to know what to avoid doing. Because of this, I think I&rsquo;m going
to settle for the answer that anyone who is interested in security should read
this book, everyone else might want to skim some of it but maybe not read the
whole thing cover to cover. Also, I do think that because of the thorough
introduction to programming in the beginning, as long as you&rsquo;re taking the time
to work through everything and not just use the prebuilt code, people of any
level should be able to follow reasonably well. I do still think you should have
a firm grasp of how computers work <em>before</em> you delve into security though.</p>

<p>That being said, I am now off to do.. other things. I&rsquo;m thinking of picking up
<em>Web application Hacker&rsquo;s Handbook</em> and work through that, or try to find a nice
VM with juicy vulnerabilities to practice on. Regardless, I&rsquo;ll see you later!</p>

<p>Happy Hacking!</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2018/02/03/2018-bucket-list-january-progress/">2018 Bucket List - January Progress</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2018-02-03T22:49:50+01:00'><span class='date'>2018-02-03</span> <span class='time'>10:49 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>There we are. The first month of 2018 has passed, and so it is time for me to
revisit the <a href="http://blog.erikbergenholtz.se/blog/2018/01/03/bucket-list-of-2018/">bucket list</a>
I made back in the beginning of the year. So the big question is what&rsquo;s happened
during this month? Unfortunately, not as much as I wished would happen. But
that&rsquo;s alright, because we&rsquo;ve got another 11 months to go before all these
things are supposed to be ticked off.</p>

<p>What has happeden though is that I have finished reading <em>The Grabeyard Book</em>, I
have finished <em>Mario Odyssey</em> (or, well, the main part of the game anyway, I
know there&rsquo;s more content to unlock by slaving away with collecting star shaped
power moons, but I&rsquo;m not going to count that), and I&rsquo;ve started eating a
ketogenic diet successfully. No carbs for a month now (almost).</p>

<p>So that&rsquo;s what I&rsquo;ve done. What&rsquo;s up next then? Well, I&rsquo;ve started to read
<em>Konsten att få Metala Superkrafter</em>, which is a selfhelp book that supposedly
should help you boost memory, reading speed, creativity, etc. I&rsquo;m slightly
skeptical, but I know that the author is legit, and since all of the skills that
will supposedly be boosted are good things for a PhD student to boost, I thought
I might as well give it a go. I also hope to finish the German course on
Duolingo until the end of February. To do that I need to finish roughly 3
lessons a day for the whole month. I&rsquo;ll do my best, but it might be a bit much;
I tend to get frustrated with Duolingo because of it&rsquo;s poor design. Finally, I
plan to fix the home network quite soon. I only need to buy some equipment.</p>

<p>Finally, are there any new points to the list? Of course there are! Firstly,
<em>Subnautica</em> is added to the list of games I want to finish (which shouldn&rsquo;t be
too hard to pull off, considering that&rsquo;s what I&rsquo;m playing right now). Secondly
I&rsquo;m adding <em>Bioshock - Rapture</em> to the list of fiction I want to read, simply
because I loved the Bioshock games and want to experience more of what Rapture
has to offer. Other than that, nothing springs to mind at the moment. So that
leaves us with the list below. And with that, I am going to finish this post.</p>

<p>Happy hacking!</p>

<ul>
<li>Books

<ul>
<li>Fiction

<ul>
<li><del>The Graveyard Book</del></li>
<li>Dune</li>
<li>Tinker Tailor Solider Spy</li>
<li>House of Leaves</li>
<li>The King in Yellow</li>
<li>1984</li>
<li>Bioshock - Rapture</li>
</ul>
</li>
<li>Non-fiction

<ul>
<li>Introduction to Algorithms</li>
<li>Violent Python</li>
<li>Art of Intrusion</li>
<li>Art of Deception</li>
<li>Web Application Hacker&rsquo;s Handbook</li>
<li>Practical Malware Analysis</li>
<li>Get Started in German</li>
<li>Konsten att få Metala Superkrafter</li>
</ul>
</li>
</ul>
</li>
<li>Movies

<ul>
<li>Dune</li>
<li>Brazil</li>
<li>Fear and Loathing in Las Vegas</li>
<li>Django Unchained</li>
<li>The Hateful Eight</li>
<li>Crouching Tiger Hidden Dragon: Sword of Destiny</li>
<li>Soylent Green</li>
</ul>
</li>
<li>Games

<ul>
<li><del>Mario Odyssey</del></li>
<li>Subnautica</li>
<li>Legend of Zelda: Breath of the Wild</li>
<li>DOOM</li>
<li>Cuphead</li>
<li>Dishonored 2</li>
</ul>
</li>
<li>Work

<ul>
<li>Nail Advanced Algorithms</li>
<li>Two publications</li>
</ul>
</li>
<li>Health and fitness

<ul>
<li>Start working out</li>
<li>Try Aikido</li>
<li><del>Start eating Keto</del></li>
<li>Quit nailbiting</li>
</ul>
</li>
<li>Other

<ul>
<li>Start practicing violin/viola regularly</li>
<li>Fix home network</li>
<li>Fix battlestation</li>
<li>Git gud at hacking</li>
<li>Finish German course on Duolingo</li>
<li>Finish <em>Get Started in German</em></li>
<li>Get more into tea and coffee</li>
<li>Start posting here regularly, preferably about sciency stuff</li>
</ul>
</li>
</ul>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2018/01/11/socket-programming-ipv6-extension-headers/">Socket Programming: IPv6 Extension Headers</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2018-01-11T19:04:09+01:00'><span class='date'>2018-01-11</span> <span class='time'>7:04 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Recently in my research I had to deal with the IPv6 extension headers. In
particular I had to deal with the Hop-By-Hop header. Unfortunately, the process
of actually setting the option and getting it on the wire is not trivial, and
the documentation is so-so. Because of this I thought I&rsquo;d give explaining the
process a go. But firstly, let&rsquo;s discuss the header itself.</p>

<h2>IPv6 Extension Headers</h2>

<p>The two extensions headers that are covered by this method are the Hob-by-Hop
options header and the destination options header.</p>

<figure class='code'><figcaption><span>IPv6 extension header</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='text'><span class='line'>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</span><span class='line'>|  Next Header  |  Hdr Ext Len  |                               |
</span><span class='line'>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+                               +
</span><span class='line'>|                                                               |
</span><span class='line'>.                                                               .
</span><span class='line'>.                            Options                            .
</span><span class='line'>.                                                               .
</span><span class='line'>|                                                               |
</span><span class='line'>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</span></code></pre></td></tr></table></div></figure>


<p>The headers looks like above. The first field is a 8-bit field that tells us
what the next header after the current one is. Following that is another 8-bit
field which tells us how long the current field is in units of <em>8 bytes</em>. It
should be noted, however, that this length does <em>not</em> include the first 8 bytes.
In other words, if the header is 8 bytes long the length field will hold the
value 0, while if the header is 16 bytes long it will hold the value 1.</p>

<p>After these two fields comes the actual options. They follow the below format,
and must be a multiple of 8 bytes long. If they&rsquo;re too short they&rsquo;re padded to
an acceptable lenght.</p>

<figure class='code'><figcaption><span>Extension option fields</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='text'><span class='line'>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+- - - - - - - - -
</span><span class='line'>|  Option Type  |  Opt Data Len |  Option Data
</span><span class='line'>+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+- - - - - - - - -
</span></code></pre></td></tr></table></div></figure>


<p>The first field tells us the type of the option. The most significant bits of
this value determines how the packet is treated, according to the following
table:</p>

<figure class='code'><figcaption><span>MSB meaning</span><a href='https://tools.ietf.org/html/rfc2460'>link</a></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
</pre></td><td class='code'><pre><code class='text'><span class='line'>+-------------------------------------------------------------------------+
</span><span class='line'>| MSB | Description                                                       |
</span><span class='line'>+-----+-------------------------------------------------------------------+
</span><span class='line'>| 00  | Skip this option and keep processing the header                   |
</span><span class='line'>+-----+-------------------------------------------------------------------+
</span><span class='line'>| 01  | Discard the packet                                                |
</span><span class='line'>+-----+-------------------------------------------------------------------+
</span><span class='line'>| 10  | Drop the packet and return an IMCP parameter probelm packet,      |
</span><span class='line'>|     | regardless of whether or not the destination address is multicast |
</span><span class='line'>+-----+-------------------------------------------------------------------+
</span><span class='line'>| 11  | Drop the packet and return an ICMP parameter problem packet, but  |
</span><span class='line'>|     | *only* if the destination address is not multicast                |
</span><span class='line'>+-----+-------------------------------------------------------------------+
</span></code></pre></td></tr></table></div></figure>


<p>The thrid most significant bit tells us if the option can change in en-route
(<code>1</code>) or not (<code>0</code>). The option length field says how many bytes long the option
is.</p>

<p>For the purposes of this guide, that is all you need to know. As you can see
from the MSB meaning table, these options aren&rsquo;t extremely useful if you follow
the RFC, as they all either tells the receiver to ignore the option or drop the
packet, but they might become useful in the future. Who knows.</p>

<h2>Adding the extension headers to packets</h2>

<p>And now we&rsquo;re reached the reason you&rsquo;re here; how do we actually make our
packets that we put on the wire have these options? Unless you want to manually
build the whole packet yourself, by hand (which is of course possible), the way
to do it is to use <code>struct cmsghdr</code>. These structs, which hold message control
data, are used by <code>struct msghdr</code> when using <code>sendmsg(...)</code> to send packets.
Since building packets by hand is a bit awkward and messy, this approach is what
we&rsquo;ll do. So let&rsquo;s get to it!</p>

<p>The very first step is to create a socket, regardless of method, so let&rsquo;s start
with that. I am going to create a raw socket that can then be used to issue
ICMP messages. To create this socket we do the following:</p>

<figure class='code'><figcaption><span>Create raw socket</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
</pre></td><td class='code'><pre><code class='c'><span class='line'><span class="cp">#include &lt;stdlib.h&gt;</span>
</span><span class='line'><span class="cp">#include &lt;stdio.h&gt;</span>
</span><span class='line'><span class="cp">#include &lt;errno.h&gt;</span>
</span><span class='line'><span class="cp">#include &lt;string.h&gt;</span>
</span><span class='line'><span class="cp">#include &lt;sys/socket.h&gt;</span>
</span><span class='line'><span class="cp">#include &lt;arpa/inet.h&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="kt">void</span> <span class="nf">fatal</span><span class="p">(</span><span class="kt">char</span> <span class="o">*</span><span class="n">msg</span><span class="p">)</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>   <span class="n">fprintf</span><span class="p">(</span><span class="n">stderr</span><span class="p">,</span> <span class="s">&quot;%s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">msg</span><span class="p">);</span>
</span><span class='line'>   <span class="n">exit</span><span class="p">(</span><span class="n">EXIT_FAILURE</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'><span class="p">...</span>
</span><span class='line'>
</span><span class='line'><span class="kt">int</span> <span class="n">sockfd</span><span class="p">;</span>
</span><span class='line'><span class="k">if</span><span class="p">((</span><span class="n">sockfd</span> <span class="o">=</span> <span class="n">socket</span><span class="p">(</span><span class="n">AF_INET6</span><span class="p">,</span> <span class="n">SOCK_RAW</span><span class="p">,</span> <span class="n">IPPROTO_ICMPV6</span><span class="p">))</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
</span><span class='line'>   <span class="n">fatal</span><span class="p">(</span><span class="n">strerror</span><span class="p">(</span><span class="n">errno</span><span class="p">));</span>
</span></code></pre></td></tr></table></div></figure>


<p>This creates a raw IPv6 socket that is meant to send ICMPv6 messages. If
something goes wrong, and error message is printed to <code>stderr</code> and the program
is shut down.</p>

<p>Now that we have our socket we&rsquo;re ready to start looking at how to send this.
As mentioned we&rsquo;re going to use <code>sendmsg(...)</code> for this, so let&rsquo;s start by
examining the function prototype for this:</p>

<figure class='code'><figcaption><span>Function prototype for sendmsg(...)</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='c'><span class='line'><span class="kt">size_t</span> <span class="nf">sendmsg</span><span class="p">(</span><span class="kt">int</span> <span class="n">sockfd</span><span class="p">,</span> <span class="k">const</span> <span class="k">struct</span> <span class="n">msghdr</span> <span class="o">*</span><span class="n">msg</span><span class="p">,</span> <span class="kt">int</span> <span class="n">flags</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>


<p>The function first takes a socket, of course, followed by a <code>struct msghdr *</code>
and some flags. The socket is already created, and we&rsquo;re not going to bother
with flags right now, so the value of that is 0. The thing that&rsquo;s interesting
here is the <code>struct msghdr</code>, as this structure will hold all the information
about the packet that the kernel needs to know, like destination. This is also
how we&rsquo;re going to pass the hop-by-hop header! It looks like this:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class='c'><span class='line'><span class="k">struct</span> <span class="n">msghdr</span>
</span><span class='line'>  <span class="p">{</span>
</span><span class='line'>    <span class="kt">void</span> <span class="o">*</span><span class="n">msg_name</span><span class="p">;</span>
</span><span class='line'>    <span class="kt">socklen_t</span> <span class="n">msg_namelen</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'>    <span class="k">struct</span> <span class="n">iovec</span> <span class="o">*</span><span class="n">msg_iov</span><span class="p">;</span>
</span><span class='line'>    <span class="kt">size_t</span> <span class="n">msg_iovlen</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'>    <span class="kt">void</span> <span class="o">*</span><span class="n">msg_control</span><span class="p">;</span>
</span><span class='line'>    <span class="kt">size_t</span> <span class="n">msg_controllen</span><span class="p">;</span>
</span><span class='line'>    <span class="kt">int</span> <span class="n">msg_flags</span><span class="p">;</span>
</span><span class='line'>  <span class="p">};</span>
</span></code></pre></td></tr></table></div></figure>


<p>The first fields, <code>msg_name</code> and <code>msg_namelen</code>, are meant for the destination
address and the length of it. The next two are the I/O-vectors, or buffers
containing input. The <code>msg_control</code> and <code>msg_controllen</code> fields are the truly
interesting here, since these are where we&rsquo;ll put our <code>struct cmsghdr</code> and its
length once we&rsquo;ve build that. But let&rsquo;s build what we can, while we&rsquo;re already
looking at this. Firstly, let&rsquo;s set the IO buffers and flags, since those are
trivial.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class='c'><span class='line'><span class="cp">#define BUFLEN 0xffff</span>
</span><span class='line'>
</span><span class='line'><span class="p">....</span>
</span><span class='line'>
</span><span class='line'><span class="kt">char</span> <span class="n">sendbuf</span><span class="p">[</span><span class="n">BUFLEN</span><span class="p">];</span>
</span><span class='line'>
</span><span class='line'><span class="k">struct</span> <span class="n">iovec</span> <span class="n">iov</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
</span><span class='line'><span class="n">iov</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">iov_base</span> <span class="o">=</span> <span class="n">sendbuf</span><span class="p">;</span>
</span><span class='line'><span class="n">iov</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">iov_len</span> <span class="o">=</span> <span class="n">BUFLEN</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'><span class="k">struct</span> <span class="n">msghdr</span> <span class="n">msg</span> <span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">};</span>
</span><span class='line'><span class="n">msg</span><span class="p">.</span><span class="n">msg_iov</span> <span class="o">=</span> <span class="n">iov</span><span class="p">;</span>
</span><span class='line'><span class="n">msg</span><span class="p">.</span><span class="n">msg_iovlen</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
</span><span class='line'><span class="n">msg</span><span class="p">.</span><span class="n">msg_flags</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></code></pre></td></tr></table></div></figure>


<p>This piece of code creates a 65545 byte input buffer, stores it in an <code>struct
iov</code> and stores that in the <code>struct msghdr</code>. The reason the variable <code>iov</code> is
declared as an array with two elements is that we&rsquo;re gonna need that for the
options later. The next step is to set the <code>msg_name</code> and <code>msg_namelen</code> fields.
To do this we create an <code>struct sockaddr_in6</code> object and set the value of the
IP address using the <code>inet_pton(...)</code> function. We then set the <code>struct msghdr</code>
fields to point to this variable:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='c'><span class='line'><span class="p">...</span>
</span><span class='line'>
</span><span class='line'><span class="k">struct</span> <span class="n">sockaddr_in6</span> <span class="o">*</span><span class="n">dst</span> <span class="o">=</span> <span class="n">malloc</span><span class="p">(</span><span class="k">sizeof</span><span class="p">(</span><span class="k">struct</span> <span class="n">sockaddr_in6</span><span class="p">));</span>
</span><span class='line'><span class="n">inet_pton</span><span class="p">(</span><span class="n">AF_INET6</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">address</span><span class="o">&gt;</span><span class="p">,</span> <span class="p">(</span><span class="kt">char</span> <span class="o">*</span><span class="p">)</span><span class="o">&amp;</span><span class="n">dst</span><span class="o">-&gt;</span><span class="n">sin6_addr</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'><span class="p">...</span>
</span><span class='line'>
</span><span class='line'><span class="n">msg</span><span class="p">.</span><span class="n">msg_name</span> <span class="o">=</span> <span class="n">dst</span><span class="p">;</span>
</span><span class='line'><span class="n">msg</span><span class="p">.</span><span class="n">msg_namelen</span> <span class="o">=</span> <span class="k">sizeof</span><span class="p">(</span><span class="k">struct</span> <span class="n">sockaddr_in6</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>


<p>Exchange the <code>&lt;address&gt;</code> above with a string containing the destination address
of your packets, and you&rsquo;re good to go. Up to this point we&rsquo;ve covered most of
the preparations that are necessary to make this work. The final step, before
actually sending the packet, is to set the extension headers. The process is a
bit messy, to say the least, but I think that we&rsquo;ll be able to pull through.</p>

<p>Setting the extension header uses <code>struct cmsghdr</code>. The struct is declared as
follows:</p>

<figure class='code'><figcaption><span>Declaration of "struct cmsghdr"</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='c'><span class='line'><span class="k">struct</span> <span class="n">cmsghdr</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>  <span class="kt">size_t</span> <span class="n">cmsg_len</span><span class="p">;</span>
</span><span class='line'>  <span class="kt">int</span> <span class="n">cmsg_level</span><span class="p">;</span>
</span><span class='line'>  <span class="kt">int</span> <span class="n">cmsg_type</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>The <code>cmsg_len</code> field contains the length of the data <em>plus</em> the length of the
header. <code>cmsg_level</code> holds the originating protocol, e.g. <code>IPPROTO_IPV6</code> in our
case. <code>cmsg_type</code> holds the message type. Since we&rsquo;re adding a hop-by-hop
header the value here will be <code>IPV6_HOPOPTS</code>. Now, it may seem like setting
these values is all we need to do to get this up and running, but it&rsquo;s quite a
bit trickier than that. This is because the struct stores the data <em>after</em> the
struct itself, so we need to initialize it carefully. For what we want to do we
need four functions and three macro functions. Let&rsquo;s start with the macros.</p>

<p><code>CMSG_LEN(len)</code> returns the length of the header and data, with any necessary
alignment taken into account. This is the value of the <code>cmsg_len</code> field. The
second macro is <code>CMSG_DATA(cmsg)</code>, which returns a pointer to the actual
ancillary data. Finally, the <code>CMSG_SPACE(len)</code> macro simply returns the
size in bytes of the ancillary data and a payload of the specified length. We
will use this to allocate space for the header.</p>

<p>The four functions we need to use are <code>inet6_opt_init(...)</code>,
<code>inet6_opt_append(...)</code>, <code>inet6_opt_set_val(...)</code> and <code>inet6_opt_finish(...)</code>.
They&rsquo;re a bit complicated, so we&rsquo;re going to go though them one by one.</p>

<p><code>inet6_opt_init(void *extbuf, socklen_t extlen)</code> is quite simple. It returns
the size of an empty header. If <code>extbuf</code> points to valid memory it also
initializes the header&rsquo;s length field. This function <em>has to be called</em> before
any of the other functions can be called.</p>

<p><code>inet6_opt_append(void *extbuf, socklen_t extlen, int offset, uint8_t type,
socklen_t len, uint8_t align, void **databufp)</code> has two jobs. If <code>extbuf</code> is
<code>NULL</code> the function returns how long the header <em>would&rsquo;ve been</em> if an option
was actually appended.  If <code>extbuf</code> is not <code>NULL</code>, on the other hand, it will
append the option, return the length as previously described <em>and</em> return a
pointer to the data through the <code>databufp</code> argument. <code>len</code> and <code>align</code> describe
the length of the option, as well as the required alignment. <code>len</code> is specified
as the number of <em>octets</em> of data. <code>align</code> cannot be exceed <code>len</code> and must have
the value <code>1</code>, <code>2</code>, <code>4</code> or <code>8</code>, which represent 0, 16, 32 or 64 bits of
alignment respectively. <code>offset</code> should be the returned value of either
<code>inet6_opt_init</code> or a previous call to <code>inet6_opt_append</code>.</p>

<p><code>inet6_opt_set_val(void *databuf, int offset, void *val, socklen_t vallen)</code>
takes a pointer to the intended data, i.e. <code>databuf</code> from the last function,
and simply writes whatever&rsquo;s stored in <code>val</code> to that position. As with the last
function, <code>offset</code> should be the returned value of the last <code>inet6_opt_append</code>
call.</p>

<p><code>inet6_opt_finish(void *extbuf, socklen_t extlen, offset)</code> calculates any final
padding needed to make the header a multiple of eight octets long. <code>offset</code> is,
as usual, the result of running <code>inet6_opt_init</code> or <code>inet6_opt_append</code>,
whichever comes last. When <code>extbuf</code> is not <code>NULL</code> the padding isn&rsquo;t just
calulated, but also added to the header.</p>

<p>So now that we know what all these things do, it&rsquo;s just a matter of applying
this. What should be noted, though, is that in order for us to know how large
our <code>struct cmsghdr</code> has to be to accomodate the header we must first do a
&ldquo;dryrun&rdquo; of the setting up. In other words, run all the functions above once
with <code>extbuf</code> set to <code>NULL</code>, then allocate memory for the struct and <em>then</em> run
all functions <em>again</em> with real values. In the end this is what it turns into:</p>

<figure class='code'><figcaption><span>Building the cmsghdr struct</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
</pre></td><td class='code'><pre><code class='c'><span class='line'><span class="k">struct</span> <span class="n">cmsghdr</span> <span class="o">*</span><span class="n">cmsg</span><span class="p">;</span>
</span><span class='line'><span class="kt">void</span> <span class="o">*</span><span class="n">hopbuf</span><span class="p">;</span>
</span><span class='line'><span class="kt">socklen_t</span> <span class="n">hoplen</span><span class="p">;</span>
</span><span class='line'><span class="kt">void</span> <span class="o">*</span><span class="n">databuf</span><span class="p">;</span>
</span><span class='line'><span class="kt">int</span> <span class="n">curlen</span><span class="p">;</span>
</span><span class='line'><span class="kt">uint8_t</span> <span class="n">val</span> <span class="o">=</span> <span class="mh">0x80</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// Dryrun to find out size of headers</span>
</span><span class='line'><span class="k">if</span><span class="p">((</span><span class="n">curlen</span> <span class="o">=</span> <span class="n">inet6_opt_init</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
</span><span class='line'>   <span class="n">fatal</span><span class="p">(</span><span class="n">strerror</span><span class="p">(</span><span class="n">errno</span><span class="p">));</span>
</span><span class='line'><span class="k">if</span><span class="p">((</span><span class="n">curlen</span> <span class="o">=</span> <span class="n">inet6_opt_append</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">curlen</span><span class="p">,</span> <span class="mh">0x80</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">))</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
</span><span class='line'>   <span class="n">fatal</span><span class="p">(</span><span class="n">strerror</span><span class="p">(</span><span class="n">errno</span><span class="p">));</span>
</span><span class='line'><span class="k">if</span><span class="p">((</span><span class="n">curlen</span> <span class="o">=</span> <span class="n">inet6_opt_finish</span><span class="p">(</span><span class="nb">NULL</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">curlen</span><span class="p">))</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
</span><span class='line'>   <span class="n">fatal</span><span class="p">(</span><span class="n">strerror</span><span class="p">(</span><span class="n">errno</span><span class="p">));</span>
</span><span class='line'><span class="n">hoplen</span> <span class="o">=</span> <span class="n">curlen</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// Allocate memory and set known options</span>
</span><span class='line'><span class="n">cmsg</span> <span class="o">=</span> <span class="p">(</span><span class="k">struct</span> <span class="n">cmsghdr</span><span class="o">*</span><span class="p">)</span><span class="n">malloc</span><span class="p">(</span><span class="n">CMSG_SPACE</span><span class="p">(</span><span class="n">hoplen</span><span class="p">));</span>
</span><span class='line'><span class="n">cmsg</span><span class="o">-&gt;</span><span class="n">cmsg_len</span> <span class="o">=</span> <span class="n">CMSG_LEN</span><span class="p">(</span><span class="n">hoplen</span><span class="p">);</span>
</span><span class='line'><span class="n">cmsg</span><span class="o">-&gt;</span><span class="n">cmsg_level</span> <span class="o">=</span> <span class="n">IPPROTO_IPV6</span><span class="p">;</span>
</span><span class='line'><span class="n">cmsg</span><span class="o">-&gt;</span><span class="n">cmsg_type</span> <span class="o">=</span> <span class="n">IPV6_HOPOPTS</span><span class="p">;</span>
</span><span class='line'><span class="n">hopbuf</span> <span class="o">=</span> <span class="n">CMSG_DATA</span><span class="p">(</span><span class="n">cmsg</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// Build actual header</span>
</span><span class='line'><span class="k">if</span><span class="p">((</span><span class="n">curlen</span> <span class="o">=</span> <span class="n">inet6_opt_init</span><span class="p">(</span><span class="n">hopbuf</span><span class="p">,</span> <span class="n">hoplen</span><span class="p">))</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
</span><span class='line'>   <span class="n">fatal</span><span class="p">(</span><span class="n">strerror</span><span class="p">(</span><span class="n">errno</span><span class="p">));</span>
</span><span class='line'><span class="k">if</span><span class="p">((</span><span class="n">curlen</span> <span class="o">=</span> <span class="n">inet6_opt_append</span><span class="p">(</span><span class="n">hopbuf</span><span class="p">,</span> <span class="n">hoplen</span><span class="p">,</span> <span class="n">curlen</span><span class="p">,</span> <span class="mh">0x80</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">databuf</span><span class="p">))</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
</span><span class='line'>   <span class="n">fatal</span><span class="p">(</span><span class="n">strerror</span><span class="p">(</span><span class="n">errno</span><span class="p">));</span>
</span><span class='line'><span class="k">if</span><span class="p">(</span><span class="n">inet6_opt_set_val</span><span class="p">(</span><span class="n">databuf</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">val</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">val</span><span class="p">))</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
</span><span class='line'>   <span class="n">fatal</span><span class="p">(</span><span class="n">strerror</span><span class="p">(</span><span class="n">errno</span><span class="p">));</span>
</span><span class='line'><span class="k">if</span><span class="p">((</span><span class="n">curlen</span> <span class="o">=</span> <span class="n">inet6_opt_finish</span><span class="p">(</span><span class="n">hopbuf</span><span class="p">,</span> <span class="n">hoplen</span><span class="p">,</span> <span class="n">curlen</span><span class="p">))</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
</span><span class='line'>   <span class="n">fatal</span><span class="p">(</span><span class="n">strerror</span><span class="p">(</span><span class="n">errno</span><span class="p">));</span>
</span></code></pre></td></tr></table></div></figure>


<p>The last step now</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2018/01/03/bucket-list-of-2018/">Bucket List of 2018</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2018-01-03T19:45:38+01:00'><span class='date'>2018-01-03</span> <span class='time'>7:45 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>A new year has started, and as such it&rsquo;s time to once again summarize the past
year and make grand new year&rsquo;s resolutions that you won&rsquo;t keep yourself
accountable for. However, this year I decided that I&rsquo;d do something slightly
more concrete than just telling myself &ldquo;I&rsquo;m gonna be healthy and get swole&rdquo;. So
I went ahead and made a bucket list, consisting of things that I want to get
done in the year to come. My plan is to revisit and revise it each month,
adding new things as they pop up and crossing out things that I have done.
However, I am not going to remove anything unless I can justify it with a very
good reason (like sickness for training goals, for instace). But first, let&rsquo;s
very quickly revisit last year.</p>

<p>In <a href="http://blog.erikbergenholtz.se/blog/2016/12/31/new-year-higher-resolution/">my post last year</a>
I vowed to read more books. Specifically, I wanted to read one book a month. I
also wanted to eat no excessive sugar for 100 days, and start running once a
week. I didn&rsquo;t do the last two things. Like at all. I think I went out running
a few times, but then I stopped. I forgot about the sugar thing about as soon
as I&rsquo;d posted about it. Oops. The reading, on the other hand, went quite well.
I&rsquo;ve read <em>A Cloclwork Orange</em>,
<a href="http://blog.erikbergenholtz.se/blog/2017/01/14/review-learn-you-a-haskell/"><em>Learn you a Haskell for Great Good</em></a>,
<em>Hacking: The Art of Exploitation</em>,
<a href="http://blog.erikbergenholtz.se/blog/2017/07/11/my-thoughts-on-gray-hat-hacking/"><em>Grey Hat Hacking: The Ethical Hacker&rsquo;s Handbook</em></a>,
<a href="http://blog.erikbergenholtz.se/blog/2017/07/20/book-review-ansible-from-beginner-to-pro/"><em>Ansible: From Beginner to Pro</em></a>,
<a href="http://blog.erikbergenholtz.se/blog/2017/07/30/book-review-exploding-the-phone-by-phil-lapsley/"><em>Exploding the Phone</em></a>,
and <em>The Hellbound Heart</em>. It&rsquo;s not the twelve books I wanted to read, but it
is seven, which is seven more than I read the year before that. Frankly, I am
quite satisfied with this.</p>

<p>So, without further ado, here&rsquo;s the bucketlist for 2018:</p>

<ul>
<li>Books

<ul>
<li>Fiction

<ul>
<li>The Graveyard Book</li>
<li>Dune</li>
<li>Tinker Tailor Solider Spy</li>
<li>House of Leaves</li>
<li>The King in Yellow</li>
<li>1984</li>
</ul>
</li>
<li>Non-fiction

<ul>
<li>Introduction to Algorithms</li>
<li>Violent Python</li>
<li>Art of Intrusion</li>
<li>Art of Deception</li>
<li>Web Application Hacker&rsquo;s Handbook</li>
<li>Practical Malware Analysis</li>
<li>Get Started in German</li>
<li>Konsten att få Metala Superkrafter</li>
</ul>
</li>
</ul>
</li>
<li>Movies

<ul>
<li>Dune</li>
<li>Brazil</li>
<li>Fear and Loathing in Las Vegas</li>
<li>Django Unchained</li>
<li>The Hateful Eight</li>
<li>Crouching Tiger Hidden Dragon: Sword of Destiny</li>
<li>Soylent Green</li>
</ul>
</li>
<li>Games

<ul>
<li>Mario Odyssey</li>
<li>Legend of Zelda: Breath of the Wild</li>
<li>DOOM</li>
<li>Cuphead</li>
<li>Dishonored 2</li>
</ul>
</li>
<li>Work

<ul>
<li>Nail Advanced Algorithms</li>
<li>Two publications</li>
</ul>
</li>
<li>Health and fitness

<ul>
<li>Start working out</li>
<li>Try Aikido</li>
<li>Start eating Keto</li>
<li>Quit nailbiting</li>
</ul>
</li>
<li>Other

<ul>
<li>Start practicing violin/viola regularly</li>
<li>Fix home network</li>
<li>Fix battlestation</li>
<li>Git gud at hacking</li>
<li>Finish German course on Duolingo</li>
<li>Finish <em>Get Started in German</em></li>
<li>Get more into tea and coffee</li>
<li>Start posting here regularly, preferably about sciency stuff</li>
</ul>
</li>
</ul>


<p>There it is! The huge list of stuff I want to get done this year. My goals for
the coming month is to finish reading <em>The Graveyard Book</em>, because I&rsquo;m halfway
through it, and to finish playing <em>Mario Odyssey</em> for the same reason. We have
started eating keto already, but I&rsquo;m not ticking that off until it&rsquo;s clear that
we&rsquo;re sticking to it. I&rsquo;m also going to try Aikido, hopefully.</p>

<p>Anyway, I&rsquo;m not going to bore you with my quest to become a better human
anymore, and move on to actually <em>being</em> one. In about three weeks, this list
will be revisited and revised!</p>

<p>Until then,<br/>
Happy Hacking!</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2017/08/13/teaspresso/">Teaspresso</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2017-08-13T16:21:07+02:00'><span class='date'>2017-08-13</span> <span class='time'>4:21 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I am an avid coffee drinker. I love a strong cup of joe any time of day, and I
really enjoy making espressos, cappuccinos, lattes, etc. Don&rsquo;t be surprised to
see a coffee post on here some time in the future. This post, however, is not
about coffee,but it started out as a discussion about coffee on Discord.</p>

<p>We talked about how coffee is an important part of the day, when a friend on
the server said that they&rsquo;re sensitive to coffee and have to drink decaf,
which is hard to come by if you want quality goods. After stating that tea is
probably the closest you can get to coffee without it being coffee, we came to
the conclusion that coffee and tea are basically the same thing; coffee is just
&ldquo;coffee bean tea&rdquo;. This statement sparked an idea; if coffee is just tea,
does that mean that we can use tea in the same way as we use coffee? For
instance, can we make espresso using tea? Obviously it&rsquo;s possible to put tea in
an espresso machine, but how does it turn out? I felt that I had to try, so
that&rsquo;s what this post is about.</p>

<p><img src="/images/2017/08/13/teaspresso/grounds.jpg" title="Tea grounds" ></p>

<p>First off I needed the actual tea. I have made teaspresso on three kinds of
tea: a black tea, a green tea (with some dried fruit) and a rooibos tea.
Unfortunately I don&rsquo;t know more about the tea, because I bought them a while
back. Coffee is ground quite finely when making espresso, to help build up
pressure in the filter among other things. Because of this I ground the tea
with a mortar and pestle somewhat finely. In the image above, the green tea is
to the right, the rooibos is in the middle, and the black is to the left.
The pulled shots are in the picture below, and they&rsquo;re in the same order as in
the picture of the grounds.</p>

<p><img class="right" src="/images/2017/08/13/teaspresso/comparison.jpg" title="The three shots side by side" ></p>

<p>First out is the black tea, which is being pulled in the picture to the right.
To my surprise the tea actually got quite a nice crema. Not in the same way as a
good cup of espresso of course, but there was still a crema on the shot.
<img class="right" src="/images/2017/08/13/teaspresso/black.jpg" width="200" title="Black shot being pulled" >
The tea itself didn&rsquo;t smell a lot (disclaimer: my sense of smell is somewhat
reduced, so I might be wrong about this), but it smelled of black tea. The
texture of the teaspresso was quite silky, almost in the same way an espresso
is. It tasted pleasantly tea-y, with all the sweet notes and none of the bitter
notes. It was also somewhat tart with a citrus feeling to it. It did not taste
a lot. As an espresso tastes like a really strong cup of coffee (well, not
quite, but you get the picture) I expected the same from the tea, but I was
wrong. If I would&rsquo;ve brewed the tea normally and steeped it for say 5-6
minutes it would likely have tasted more than this did. The teaspresso did
taste somewhat differently though. In a pleasant way.</p>

<p><img class="right" src="/images/2017/08/13/teaspresso/rooibos.jpg" width="200" title="Rooibos shot being pulled" >
I moved on to the rooibos. Same procedure as last time. The color of is shot
was amazing, especially while pulling it. A lovely orange hue. The color did
tone down a bit once the teaspresso settled, but it was still quite a livid
color. Taste wise, this was a completely different beast than the black tea.
Firstly, this smelled of rooibos tea <em>a lot</em>. Secondly, this tea really packed
a punch. It didn&rsquo;t taste tea very much, but was instead intensely peppery.
It was almost like biting black pepper, but not quite as strong. The texture
wasn&rsquo;t as silky as the black teaspresso, and it had an aftertaste that I could
not quite identify. A very different experience, but not an unpleasant one.
Maybe not something anyone would like, but I sure did.</p>

<p><img class="right" src="/images/2017/08/13/teaspresso/green.jpg" width="200" title="Green shot being pulled" >
Finally there&rsquo;s the green tea. It had almost no smell (again, I&rsquo;m not the best
judge of this), but it had much taste. Unfortunately, it was not a good taste.
The green teaspresso was incredibly bitter, and left a very dry feeling in my
mouth. It did have some sweetness hiding behind the bitterness which came
forward if you sipped it in very small amounts. A friend on the Discord-channel
tried as well and didn&rsquo;t feel it though. Since he didn&rsquo;t have any dried fruit
in his tea, the dried fruit in mine might&rsquo;ve been what added the sweetness to
my shot. All in all this was not good at all, and I wouldn&rsquo;t recommend it.</p>

<p>Conclusions then. I think this was an exciting experiment, and I&rsquo;d like to try
this with other kinds of tea as well (yerba mate and white tea are next)
on the list. We discussed the failure of the green tea on Discord, and
theorized that the increased surface area of the ground tea might very well
mean that more tannines are released into the water, making it bitter. I&rsquo;m
therefore considering pulling another shot of the green teaspresso without
grinding the leaves and see if that turns out better.</p>

<p>I hope you enjoyed this, I sure did! You might expect to see more stuff like
this, both on tea, coffee and perhaps the occasional cocktail. Only time will
tell. Until next time!</p>

<p>Happy (tea) Hacking</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2017/07/30/book-review-exploding-the-phone-by-phil-lapsley/">Book Review: Exploding the Phone by Phil Lapsley</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2017-07-30T12:47:44+02:00'><span class='date'>2017-07-30</span> <span class='time'>12:47 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><img class="right" src="http://www.groveatlantic.com/bigcovers/9780802120618.jpg" width="150" height="250" title="Cover" >
There we are. I have finally managed to make it through Phil Lapsely&rsquo;s book
<a href="http://explodingthephone.com/"><em>Exploding the Phone</em></a>. Despite taking me 2.5
years to get through (because I&rsquo;ve put it away for months at a time several
times, and started over reading it an equal amount of times) I did enjoy
reading it. The book, which is some 330 pages long, covers the adventures of
the <em>phone phreaks</em>, i.e. the individuals who used their wits out outsmart the
telephone system back in the day (50-70s). They were the telephone system&rsquo;s
equivalent to today&rsquo;s computer hackers, and to a large extent they set the
stage for the computer hackers themselves.</p>

<p>The book starts off way back in the late 1800s when when the Bell Telephone
Company was created, to it&rsquo;s demise in 1983. Most of the events in the book
happened in the 50-70s, however. The book lets us follow the advent and
evolution of phreaking, and get to know big names in the game such as Bill
Acker, Joe Engerssia and John Draper. Their adventures were quite awesome, in
the old sense of the word. If you want to know about what the things they
actually did you&rsquo;ll have to pick up the book; I am not going to spoil it here.</p>

<p>I would assume that most people who pick this book up are somewhat like me:
interested in technical things and probably security to some extent too. In
such case, I&rsquo;m sure they&rsquo;d be interested in how things actually worked. What
were the vulnerabilities that enabled the phreaking, and why did they work?
These are things made me want the book, and after reading it I am by no means
disappointed. The book is filled with enough technical detail that it&rsquo;s easy
to understand how and why the attacks worked, but it&rsquo;s not enough to push the
story about the phreaks out of the way. All in all, I think that it gives the
right amount of coverage.</p>

<p>Despite having a lot of technical information, the book is quite easy to read.
The language isn&rsquo;t too advanced, and everything is clearly explained. It is,
however, a bit messy chronologically. Because it follows a lot of stories
revolving around a lot of people, it isn&rsquo;t written in an entirely chronological
order. On the grand scale of things it is, but it&rsquo;s not uncommon that the
author goes on a lengthy tangent in the middle of a story. It&rsquo;s not done
needlessly or poorly, as the transitions feel natural and the tangents provide
information that&rsquo;s necessary to understand what is going on. However, it does
mess up the time line a bit, so keeping track of who lives where and who did
what in which order is a bit tricky. It doesn&rsquo;t take away much from the
experience though.</p>

<p>So what&rsquo;s the verdict? It&rsquo;s clearly positive, I would highly recommend reading
the book. It&rsquo;s interesting and gives a lot of insight into the history of
today&rsquo;s hacker culture. Despite it taking me 2.5 years to get through the book,
I don&rsquo;t think it took too many hours to read once I actually sat down with it.
For me, it was a very worthwhile read and I&rsquo;d happily read more books like
it.</p>

<p>That concludes my review, and with that I&rsquo;m up to 6 books read this year. That
means that I&rsquo;m just one month behind where I should be, according to my new
year&rsquo;s resolution of reading one book a month. I best get to it then, so until
next time</p>

<p>Happy Hacking!</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2017/07/20/book-review-ansible-from-beginner-to-pro/">Book Review - Ansible: From Beginner to Pro</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2017-07-20T01:41:33+02:00'><span class='date'>2017-07-20</span> <span class='time'>1:41 am</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>It&rsquo;s time for another book review. This time of Michael Heap&rsquo;s
<a href="http://www.apress.com/us/book/9781484216606">Ansible: From Beginner to Pro</a>,
published by <a href="http://www.apress.com/">Apress</a>. The 200 page book is, as the
name suggests, about the orchestration tool Ansible. It&rsquo;s a tool that I don&rsquo;t
have any previous experience of, but I&rsquo;m looking forward to trying it out in
the real world! Now, let&rsquo;s jump into it!</p>

<p>For being such a short book it covers quite a few topics. It assumes no
previous knowledge, and starts from the very beginning. It then walks through
the various components of Ansible projects, like inventory files (files
containing lists of hosts to run Ansible against), roles and how to write your
own modules with Python. The explanations are clear, and throughout the book a
running example (consisting of a WordPress installation) is used to demonstrate
the different topics. The nice tone and spacious layout also contributes to make
reading the book a pleasant experience, and I managed to read the full thing
cover to cover in about a weekend without trying too hard.</p>

<p>So, are there anything that&rsquo;s not that great about the book? Well, I had issues
with a few steps along the way, and while I did manage to solve I would&rsquo;ve
liked some form of guidance from the book. It doesn&rsquo;t cover troubleshooting at
all, which come to think of it none of the other books I&rsquo;ve reviewed have
either (I particularly remember trying desperately to understand the Haskell
error messages I got when reading <em>Learn you a Haskell</em>, which are all quite
cryptic). It was a while since I read the book, so I don&rsquo;t remember specifically
what the issues where, but I do remember that for a beginner like myself the
solution wasn&rsquo;t immediately obvious. Apart from this I have no big issues with
the book. I enjoyed both it and the tool quite a bit, and I hope the other
books from Apress have the same standard (I have a few in my backlog).</p>

<p>Now, on to the big question: Am I an Ansible pro now? After all, that&rsquo;s
what the book&rsquo;s name suggests I should be. To be fair, I think that <em>pro</em>
might be a slight exaggeration. While I think that I could probably orchestrate
a server reasonably well using Ansible at this point, there&rsquo;s still a lot to
learn. The book mentions some best practices for various parts of the tool, but
my experience from other areas tell me that while I may understand these, it&rsquo;ll
take a bit of active use of the tool before they&rsquo;re fully internalized. That
being said, I do believe that I know enough to orchestrate a server. And I will
    soon know for sure; I bought a VPS recently and I plan to orchestrate it using
Ansible, both for simplicity and for practice. This will happen sometime during
the coming week, so I&rsquo;ll get back to you then. I also have some neat ideas
regarding orchestrating localhost that I want to try out, so and I&rsquo;ll let you
read all about it once I&rsquo;ve given it a go.</p>

<p>To conclude, would I recommend this book? If you&rsquo;re a sysadmin on any level,
be it on a hobby level like me or a professional level like not me, yes. It&rsquo;s
a tool that makes the setting up of a server a lot easier, and the fact that
you can dry-run your playbooks in a virtual environment without any fuzz is
great. If you&rsquo;re not a sysadmin I wouldn&rsquo;t recommend it though. It&rsquo;s a pleasant
read nonetheless, but I don&rsquo;t think you&rsquo;ll get much out of it. Unless, of
course, my little experiment works. Then you might want to have a look at it
for ricing reasons. We&rsquo;ll see I guess. Until then!</p>

<p>Happy Hacking</p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/posts/2">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <!-- Begin MailChimp Signup Form -->
<div id="mc_embed_signup">
   <form action="//erikbergenholtz.us16.list-manage.com/subscribe/post?u=846665ee01d04e7c64e59fafa&amp;id=9d6e83f4d6" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>
      <div id="mc_embed_signup_scroll">
         <h2>Get my posts in your inbox!</h2>
         <div class="mc-field-group">
            <label for="mce-EMAIL">Email Address </span>
            </label>
            <input type="email" value="" name="EMAIL" class="required email" id="mce-EMAIL">
         </div>
         <div id="mce-responses" class="clear">
            <div class="response" id="mce-error-response" style="display:none"></div>
            <div class="response" id="mce-success-response" style="display:none"></div>
         </div>    <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->
            <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_846665ee01d04e7c64e59fafa_9d6e83f4d6" tabindex="-1" value=""></div>
            <div class="clear"><input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="button"></div>
      </div>
   </form>
</div>

<!--End mc_embed_signup-->
<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2018/06/21/what-i-learned-from-writing-my-first-paper/">What I Learned From Writing My First Paper</a>
      </li>
    
      <li class="post">
        <a href="/blog/2018/06/08/2018-bucket-list-june-progress/">2018 Bucket List - June Progress</a>
      </li>
    
      <li class="post">
        <a href="/blog/2018/02/28/2018-bucket-list-february-progress/">2018 Bucket List - February Progress</a>
      </li>
    
      <li class="post">
        <a href="/blog/2018/02/03/book-review-hacking-the-art-of-exploitation/">Book Review: Hacking - the Art of Exploitation</a>
      </li>
    
      <li class="post">
        <a href="/blog/2018/02/03/2018-bucket-list-january-progress/">2018 Bucket List - January Progress</a>
      </li>
    
  </ul>
</section>





  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2018 - Erik Bergenholtz -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'erikbergenholtz';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
